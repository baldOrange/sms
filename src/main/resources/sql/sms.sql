/*
SQLyog Trial v13.1.8 (64 bit)
MySQL - 8.0.28 : Database - sms2023
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`sms2023` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

USE `sms2023`;

/*Table structure for table `tb_checkout` */

DROP TABLE IF EXISTS `tb_checkout`;

CREATE TABLE `tb_checkout` (
                             `checkout_id` int NOT NULL AUTO_INCREMENT COMMENT '销售表id',
                             `product_id` int DEFAULT NULL COMMENT '商品编号id',
                             `product_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '商品名称',
                             `group_id` int DEFAULT NULL COMMENT '所属分类id',
                             `purchase_price` float NOT NULL DEFAULT '0' COMMENT '进价',
                             `product_number` int DEFAULT NULL COMMENT '购买数量',
                             `check_price` float DEFAULT NULL COMMENT '应付金额',
                             `is_vip` varchar(255) DEFAULT NULL COMMENT '是否VIP',
                             `generate_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '时间',
                             PRIMARY KEY (`checkout_id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_checkout` */

insert  into `tb_checkout`(`checkout_id`,`product_id`,`product_name`,`group_id`,`purchase_price`,`product_number`,`check_price`,`is_vip`,`generate_time`) values
                                                                                                                                                            (7,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-06-01 16:25:35'),
                                                                                                                                                            (8,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-22 16:28:32'),
                                                                                                                                                            (9,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-22 17:26:27'),
                                                                                                                                                            (10,10,'奥利奥Update0428',2001,3.3,11,67.925,'是 ','2023-07-22 17:26:38'),
                                                                                                                                                            (11,10,'奥利奥Update0428',2001,3.3,1,1449.5,'是 ','2023-07-22 17:54:09'),
                                                                                                                                                            (12,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-22 18:26:44'),
                                                                                                                                                            (13,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-22 19:15:25'),
                                                                                                                                                            (14,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-23 14:48:24'),
                                                                                                                                                            (15,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-23 14:49:26'),
                                                                                                                                                            (16,10,'奥利奥Update0428',2001,3.3,10,61.75,'是 ','2023-07-23 14:54:33'),
                                                                                                                                                            (17,10,'奥利奥Update0428',2001,3.3,5,30.875,'是 ','2023-07-23 14:57:59'),
                                                                                                                                                            (18,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-23 14:59:11'),
                                                                                                                                                            (19,10,'奥利奥Update0428',2001,3.3,1,6.175,'是 ','2023-07-23 14:59:13');

/*Table structure for table `tb_group` */

DROP TABLE IF EXISTS `tb_group`;

CREATE TABLE `tb_group` (
                          `id` int NOT NULL AUTO_INCREMENT,
                          `group_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                          PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=2012 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_group` */

insert  into `tb_group`(`id`,`group_name`) values
                                             (2001,'食品'),
                                             (2002,'饮料'),
                                             (2003,'日用品'),
                                             (2004,'数码产品'),
                                             (2005,'图书'),
                                             (2006,'玩具'),
                                             (2007,'电子产品'),
                                             (2008,'日常穿搭'),
                                             (2009,'卫生健康'),
                                             (2010,'汽车内饰'),
                                             (2011,'时尚穿搭');

/*Table structure for table `tb_product` */

DROP TABLE IF EXISTS `tb_product`;

CREATE TABLE `tb_product` (
                            `id` int NOT NULL AUTO_INCREMENT,
                            `group_id` int DEFAULT NULL COMMENT '类别',
                            `provider_id` int DEFAULT NULL COMMENT '供应商编号',
                            `product_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                            `yield_date` datetime DEFAULT NULL COMMENT '生产日期',
                            `product_factory` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '生产工厂',
                            `purchase_price` float unsigned NOT NULL DEFAULT '0' COMMENT '进价',
                            `stock` int unsigned NOT NULL DEFAULT '0' COMMENT '库存',
                            `sale_price` float unsigned NOT NULL DEFAULT '0' COMMENT '售价',
                            `sale_count` int unsigned NOT NULL DEFAULT '0' COMMENT '销售量',
                            `create_date` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                            PRIMARY KEY (`id`) USING BTREE,
                            KEY `fk_tb_product_tb_group` (`group_id`) USING BTREE,
                            KEY `fk_product_provider` (`provider_id`) USING BTREE,
                            CONSTRAINT `fk_product_category` FOREIGN KEY (`group_id`) REFERENCES `tb_group` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT,
                            CONSTRAINT `fk_product_provider` FOREIGN KEY (`provider_id`) REFERENCES `tb_provider` (`id`) ON DELETE RESTRICT ON UPDATE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=57 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_product` */

insert  into `tb_product`(`id`,`group_id`,`provider_id`,`product_name`,`yield_date`,`product_factory`,`purchase_price`,`stock`,`sale_price`,`sale_count`,`create_date`) values
                                                                                                                                                                          (10,2001,20190013,'奥利奥Update0428','2021-03-31 00:00:00','奥利奥饼干工厂',3.3,288,6.5,734,'2023-06-01 17:11:53'),
                                                                                                                                                                          (11,2003,20190013,'黑人牙膏(薄荷味)','2021-03-05 00:00:00','上海宝洁日用品公司',3.2,960,9.5,50,'2021-04-24 22:16:40'),
                                                                                                                                                                          (12,2001,20190014,'火腿肠','2021-01-01 00:00:00','北京王中王',2.2,140,3,211,'2021-04-12 23:52:48'),
                                                                                                                                                                          (13,2002,20190012,'可口可乐(500ML)','2021-02-17 00:00:00','合肥太古可乐',2.1,288,3,12,'2021-03-02 23:53:57'),
                                                                                                                                                                          (15,2003,20190014,'金口健牙膏','2021-01-24 00:00:00','云南白药牙膏有限公司',6,180,12,20,'2021-03-03 12:58:42'),
                                                                                                                                                                          (16,2007,20190014,'神舟K670E-G6D1笔记本电脑','2020-02-21 00:00:00','深圳市神舟创新科技公司',4199,200,5799,10,'2021-04-25 11:05:51'),
                                                                                                                                                                          (17,2002,20190013,'康师傅绿茶','2021-04-08 00:00:00','上海康师傅有限公司',1.2,200,3,0,'2021-04-01 11:09:10'),
                                                                                                                                                                          (18,2001,20190012,'康师傅红烧拌面','2021-03-31 00:00:00','上海康师傅有限公司',3.2,100,5,0,'2021-04-25 13:48:18'),
                                                                                                                                                                          (19,2002,20190014,'蒙牛纯牛奶250ML','2021-03-30 00:00:00','蒙牛乳业',1.2,500,3.5,0,'2021-04-25 14:34:46'),
                                                                                                                                                                          (20,2003,20190014,'黑人牙膏（草莓味）','2021-03-30 00:00:00','上海宝洁有限公司',5.2,2000,12,24,'2021-04-27 13:13:11'),
                                                                                                                                                                          (21,2002,20190014,'蒙牛纯牛奶 1.5L','2021-02-03 00:00:00','蒙牛乳业',6,300,12,0,'2021-04-27 13:14:17'),
                                                                                                                                                                          (22,2007,20190014,'ROMOSS/罗马仕 sense8P','2021-04-06 00:00:00','深圳罗马仕科技有限公司',60,487,119,13,'2021-04-27 13:16:48'),
                                                                                                                                                                          (23,2002,20190014,'蒙牛圣牧有机牛奶品醇200ml*12','2021-03-11 00:00:00','蒙牛乳业',30,100,79,0,'2021-04-27 13:19:01'),
                                                                                                                                                                          (24,2004,20190014,'BOW航世笔记本外接键盘','2020-06-27 00:00:00','B.O.W',12,3000,39,0,'2021-04-27 13:20:14'),
                                                                                                                                                                          (25,2003,20190013,'米家电水壶1A','2021-02-10 00:00:00','MIJIA/米家',50,276,79,24,'2021-04-27 13:28:15'),
                                                                                                                                                                          (26,2009,20190014,'决明子枸杞菊花茶','2021-04-06 00:00:00','泉州市百年修本茶业有限公司',6,100,59,0,'2021-04-27 13:29:32'),
                                                                                                                                                                          (27,2007,20190014,'sense 4 mini','2021-04-08 00:00:00','深圳罗马仕科技有限公司',12,280,39,20,'2021-04-27 13:30:21'),
                                                                                                                                                                          (28,2008,20190014,'李宁跑步鞋透气新款男鞋','2021-05-05 00:00:00','Lining/李宁',120,300,319,0,'2021-04-27 13:32:32'),
                                                                                                                                                                          (29,2009,20190014,'蓝禾医疗一次性使用医用口罩','2021-03-31 00:00:00','浙江蓝禾医疗用品有限公司',5.2,100,19,0,'2021-04-27 13:33:39'),
                                                                                                                                                                          (30,2010,20190014,'临时停车牌号码汽车用品','2021-03-30 00:00:00','以斯帖车品专营店',3.2,300,12,0,'2021-04-27 13:35:13'),
                                                                                                                                                                          (31,2002,20190014,'蒙牛真果粒礼盒装250g*24盒','2021-03-10 00:00:00','蒙牛乳业',26,100,52,0,'2021-04-27 13:36:00'),
                                                                                                                                                                          (32,2002,20190014,'【超定制】豆本豆豆奶250ml*24盒','2021-04-01 00:00:00','豆本豆',12,300,39,0,'2021-04-27 13:36:56'),
                                                                                                                                                                          (33,2008,20190013,'鸿星尔克开衫卫衣男','2021-03-31 00:00:00','鸿星尔克',120,300,339,0,'2021-04-27 13:37:48'),
                                                                                                                                                                          (34,2007,20190012,'华为荣耀9x手机壳','2021-03-30 00:00:00','深圳罗马仕科技有限公司',5.2,300,39,0,'2021-04-27 13:38:26'),
                                                                                                                                                                          (35,2007,20190013,'绿联usb扩展器转换接头','2021-04-01 00:00:00','B.O.W',6,300,39,0,'2021-04-27 13:39:09'),
                                                                                                                                                                          (36,2001,20190012,'威其诺自热小火锅速食','2021-03-29 00:00:00','蒙牛乳业',6,100,39,0,'2021-04-27 13:39:53'),
                                                                                                                                                                          (37,2008,20190014,'红米k30手机壳液态硅胶','2021-03-30 00:00:00','蒙牛乳业',3.2,88,12,12,'2021-04-27 13:40:21'),
                                                                                                                                                                          (38,2008,20190014,'取暖器小型家用小太阳','2021-04-05 00:00:00','上海康师傅有限公司',5.2,300,39,0,'2021-04-27 13:40:54'),
                                                                                                                                                                          (39,2003,20190012,'电脑椅家用靠背办公椅','2021-03-31 00:00:00','上海康师傅有限公司',120,300,119,0,'2021-04-27 13:41:35'),
                                                                                                                                                                          (40,2003,20190014,'联想小新air14键盘膜','2021-04-02 00:00:00','深圳罗马仕科技有限公司',120,288,5,12,'2021-04-27 13:42:08'),
                                                                                                                                                                          (41,2003,20190014,'黑人薄荷（牙膏味）','2021-04-06 00:00:00','上海宝洁有限公司',6,200,12,12,'2021-04-29 00:20:23'),
                                                                                                                                                                          (44,2003,20190017,'米家保温杯（500ML）黑色','2021-04-28 00:00:00','南京米家日用品有限公司',36,188,99,12,'2021-05-04 17:58:11'),
                                                                                                                                                                          (45,2007,20190017,'测试商品0509','2021-05-04 00:00:00','深圳罗马电子科技技术公司',68,200,168,32,'2021-05-09 21:59:10'),
                                                                                                                                                                          (46,2004,20190014,'华为Mate 40 Pro 6+128','2021-05-03 00:00:00','华为终端',6299,1000,7999,0,'2021-05-13 17:25:13'),
                                                                                                                                                                          (47,2006,20190017,'四驱车','2021-04-26 00:00:00','奥飞娱乐',34,990,60,10,'2021-05-17 19:28:16'),
                                                                                                                                                                          (48,2002,20190012,'可口可乐330ML*6','2021-04-22 00:00:00','合肥太古娱乐',7.9,1000,12.9,0,'2021-05-24 15:12:33'),
                                                                                                                                                                          (49,2001,20190012,'????','2021-04-26 00:00:00','?????????',7.9,990,15,10,'2021-05-24 15:13:14'),
                                                                                                                                                                          (50,2001,20190012,'桃李花式面包','2021-05-22 00:00:00','江苏省镇江市',1.3,600,2.5,0,'2021-05-26 23:17:00'),
                                                                                                                                                                          (51,2009,20190013,'甘草','2021-04-29 00:00:00','安徽省合肥市高新区',3.6,600,12,0,'2021-05-26 23:17:53'),
                                                                                                                                                                          (52,2005,20190019,'大话数据结构','2021-05-04 00:00:00','上海大雅图书',37,588,89,12,'2021-05-26 23:19:56'),
                                                                                                                                                                          (53,2005,20190019,'计算机网络（第七版）','2021-05-05 00:00:00','上海大雅图书',34,580,78,20,'2021-05-26 23:20:35'),
                                                                                                                                                                          (54,2006,20190019,'飞机航模','2021-04-27 00:00:00','武汉玩具厂',37,600,400,0,'2021-05-27 12:46:46'),
                                                                                                                                                                          (55,2011,20190017,'鸿星尔克卫衣','2021-05-10 00:00:00','福建衣服厂',39,100,128,0,'2021-05-27 12:47:35'),
                                                                                                                                                                          (56,2009,20190014,'蓝月亮洗衣液','2021-03-11 00:00:00','江苏省镇江市',37,599,128,1,'2021-05-29 00:08:01');

/*Table structure for table `tb_provider` */

DROP TABLE IF EXISTS `tb_provider`;

CREATE TABLE `tb_provider` (
                             `id` int NOT NULL AUTO_INCREMENT,
                             `provider_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                             `provider_contact` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                             `contact_phone` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                             `provider_address` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '',
                             PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=20190022 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_provider` */

insert  into `tb_provider`(`id`,`provider_name`,`provider_contact`,`contact_phone`,`provider_address`) values
                                                                                                         (20190012,'安徽合家欢超市供货端','李南京','18129371234','安徽省合肥市蜀山区'),
                                                                                                         (20190013,'百货超市供货端','高子腾','16736351234','江苏省无锡市'),
                                                                                                         (20190014,'天猫超市电商线下特供','李天猫','19384741234','浙江省余杭区太子路'),
                                                                                                         (20190016,'安徽淮南超市','李飞','18130111234','安徽省淮南市田家'),
                                                                                                         (20190017,'南京百大超市','花木兰','18130111234','南京雨花台区'),
                                                                                                         (20190018,'上海桃李面包厂','李亮','17364321234','上海徐家汇'),
                                                                                                         (20190019,'京东','刘强','82746171234','江苏省宿迁市京东电商');

/*Table structure for table `tb_sale` */

DROP TABLE IF EXISTS `tb_sale`;

CREATE TABLE `tb_sale` (
                         `sale_id` int NOT NULL AUTO_INCREMENT COMMENT '销售表id',
                         `product_id` int DEFAULT NULL COMMENT '商品编号id',
                         `product_name` varchar(255) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '' COMMENT '商品名称',
                         `group_id` int DEFAULT NULL COMMENT '所属分类id',
                         `purchase_price` float NOT NULL DEFAULT '0' COMMENT '进价',
                         `sale_price` float NOT NULL DEFAULT '0' COMMENT '售价',
                         `sale_count` int NOT NULL DEFAULT '0' COMMENT '销量',
                         `sale_volume` float DEFAULT NULL COMMENT '销售额',
                         `net_profit` float DEFAULT NULL COMMENT '净利润',
                         `generate_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '时间',
                         PRIMARY KEY (`sale_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=10209 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_sale` */

insert  into `tb_sale`(`sale_id`,`product_id`,`product_name`,`group_id`,`purchase_price`,`sale_price`,`sale_count`,`sale_volume`,`net_profit`,`generate_time`) values
                                                                                                                                                                 (10029,12,'火腿肠',2001,2.2,3,10,22,8,'2021-05-04 23:42:25'),
                                                                                                                                                                 (10030,12,'火腿肠',2001,2.2,3,15,33,12,'2021-05-05 00:34:26'),
                                                                                                                                                                 (10031,12,'火腿肠',2001,2.2,3,15,33,12,'2021-05-05 00:34:47'),
                                                                                                                                                                 (10032,10,'奥利奥Update0428',2001,3.3,6.5,12,39.6,38.4,'2021-05-05 00:35:20'),
                                                                                                                                                                 (10033,13,'可口可乐(500ML)',2002,2.1,3,12,25.2,10.8,'2021-05-05 00:35:32'),
                                                                                                                                                                 (10034,15,'金口健牙膏',2003,6,12,10,60,60,'2021-05-05 00:35:52'),
                                                                                                                                                                 (10035,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2021-05-05 00:51:38'),
                                                                                                                                                                 (10036,11,'黑人牙膏(薄荷味)',2003,3.2,9.5,10,32,63,'2021-05-05 00:51:41'),
                                                                                                                                                                 (10037,15,'金口健牙膏',2003,6,12,10,60,60,'2021-05-05 00:51:45'),
                                                                                                                                                                 (10038,16,'神舟K670E-G6D1笔记本电脑',2004,4199,5799,10,41990,16000,'2021-05-05 00:52:07'),
                                                                                                                                                                 (10039,22,'ROMOSS/罗马仕 sense8P',2007,60,119,10,600,590,'2021-05-05 00:52:20'),
                                                                                                                                                                 (10040,11,'黑人牙膏(薄荷味)',2001,3.2,9.5,10,32,63,'2021-05-05 00:53:04'),
                                                                                                                                                                 (10041,11,'黑人牙膏(薄荷味)',2001,3.2,9.5,10,32,63,'2021-05-05 00:54:44'),
                                                                                                                                                                 (10042,11,'黑人牙膏(薄荷味)',2003,3.2,9.5,10,32,63,'2021-05-05 00:56:55'),
                                                                                                                                                                 (10043,12,'火腿肠',2001,2.2,3,10,22,8,'2021-05-05 00:57:37'),
                                                                                                                                                                 (10044,11,'黑人牙膏(薄荷味)',2003,3.2,9.5,10,32,63,'2021-05-05 01:19:37'),
                                                                                                                                                                 (10045,45,'测试商品0509',2007,68,168,12,816,1200,'2021-05-09 22:00:06'),
                                                                                                                                                                 (10046,20,'黑人牙膏（草莓味）',2003,5.2,12,12,62.4,81.6,'2021-05-10 14:16:30'),
                                                                                                                                                                 (10047,25,'米家电水壶1A',2003,50,79,12,600,348,'2021-05-10 14:17:00'),
                                                                                                                                                                 (10048,40,'联想小新air14键盘膜',2003,120,5,12,1440,-1380,'2021-05-10 14:17:04'),
                                                                                                                                                                 (10049,41,'黑人薄荷（牙膏味）',2003,6,12,12,72,72,'2021-05-10 14:17:33'),
                                                                                                                                                                 (10050,44,'米家保温杯（500ML）黑色',2003,36,99,12,432,756,'2021-05-10 14:17:35'),
                                                                                                                                                                 (10051,20,'黑人牙膏（草莓味）',2003,5.2,12,12,62.4,81.6,'2021-05-10 23:50:19'),
                                                                                                                                                                 (10052,25,'米家电水壶1A',2003,50,79,12,600,348,'2021-05-10 23:50:28'),
                                                                                                                                                                 (10053,27,'sense 4 mini',2007,12,39,20,240,540,'2021-05-12 21:48:34'),
                                                                                                                                                                 (10054,45,'测试商品0509',2007,68,168,20,1360,2000,'2021-05-12 21:48:48'),
                                                                                                                                                                 (10055,47,'四驱车',2006,34,60,10,340,260,'2021-05-17 19:28:59'),
                                                                                                                                                                 (10056,49,'泰国香蕉',2001,7.9,15,10,79,71,'2021-05-24 15:16:32'),
                                                                                                                                                                 (10057,52,'大话数据结构',2005,37,89,12,444,624,'2021-05-28 23:57:29'),
                                                                                                                                                                 (10058,53,'计算机网络（第七版）',2005,34,78,20,680,880,'2021-05-28 23:57:41'),
                                                                                                                                                                 (10059,37,'红米k30手机壳液态硅胶',2008,3.2,12,12,38.4,105.6,'2021-05-29 00:03:55'),
                                                                                                                                                                 (10060,22,'ROMOSS/罗马仕 sense8P',2007,60,119,3,180,177,'2021-05-29 00:06:32'),
                                                                                                                                                                 (10061,10,'奥利奥Update0428',2001,3.3,6.5,13,42.9,41.6,'2021-05-29 00:07:08'),
                                                                                                                                                                 (10062,56,'蓝月亮洗衣液',2009,37,128,1,37,91,'2021-05-29 00:08:12'),
                                                                                                                                                                 (10063,10,'???Update0428',2001,3.3,6.5,1,3.3,3.2,'2022-10-25 21:20:53'),
                                                                                                                                                                 (10064,10,'???Update0428',2001,3.3,6.5,2,6.6,6.4,'2022-10-25 21:29:35'),
                                                                                                                                                                 (10065,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2022-10-25 21:38:17'),
                                                                                                                                                                 (10066,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2022-10-25 21:40:11'),
                                                                                                                                                                 (10067,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-20 15:38:54'),
                                                                                                                                                                 (10068,10,'奥利奥Update0428',2001,3.3,6.5,50,165,160,'2023-07-20 15:39:50'),
                                                                                                                                                                 (10069,10,'奥利奥Update0428',2001,3.3,6.5,50,165,160,'2023-07-20 15:40:07'),
                                                                                                                                                                 (10070,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-20 20:15:03'),
                                                                                                                                                                 (10071,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-20 20:19:15'),
                                                                                                                                                                 (10072,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-20 20:20:01'),
                                                                                                                                                                 (10073,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-20 20:21:57'),
                                                                                                                                                                 (10074,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 10:48:00'),
                                                                                                                                                                 (10075,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 10:53:21'),
                                                                                                                                                                 (10076,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 10:58:19'),
                                                                                                                                                                 (10077,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:17:55'),
                                                                                                                                                                 (10078,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:22:18'),
                                                                                                                                                                 (10079,10,'奥利奥Update0428',2001,3.3,6.5,11,36.3,35.2,'2023-07-21 11:23:09'),
                                                                                                                                                                 (10080,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:25:56'),
                                                                                                                                                                 (10081,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:28:14'),
                                                                                                                                                                 (10082,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:30:22'),
                                                                                                                                                                 (10083,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 11:48:10'),
                                                                                                                                                                 (10084,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 14:50:56'),
                                                                                                                                                                 (10085,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:06:27'),
                                                                                                                                                                 (10086,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:07:36'),
                                                                                                                                                                 (10087,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:08:36'),
                                                                                                                                                                 (10088,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-21 18:09:33'),
                                                                                                                                                                 (10089,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-21 18:22:09'),
                                                                                                                                                                 (10090,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-21 18:22:15'),
                                                                                                                                                                 (10091,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-21 18:23:29'),
                                                                                                                                                                 (10092,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:24:52'),
                                                                                                                                                                 (10093,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-21 18:26:02'),
                                                                                                                                                                 (10094,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:29:22'),
                                                                                                                                                                 (10095,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:38:54'),
                                                                                                                                                                 (10096,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:45:25'),
                                                                                                                                                                 (10097,10,'奥利奥Update0428',2001,3.3,6.5,4,13.2,12.8,'2023-07-21 18:46:40'),
                                                                                                                                                                 (10098,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-21 18:48:16'),
                                                                                                                                                                 (10099,10,'奥利奥Update0428',2001,3.3,6.5,3,9.9,9.6,'2023-07-21 18:49:46'),
                                                                                                                                                                 (10100,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-21 18:51:12'),
                                                                                                                                                                 (10101,10,'奥利奥Update0428',2001,3.3,6.5,7,23.1,22.4,'2023-07-21 18:51:20'),
                                                                                                                                                                 (10102,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:54:32'),
                                                                                                                                                                 (10103,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:55:02'),
                                                                                                                                                                 (10104,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:55:21'),
                                                                                                                                                                 (10105,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:55:24'),
                                                                                                                                                                 (10106,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:56:17'),
                                                                                                                                                                 (10107,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:56:26'),
                                                                                                                                                                 (10108,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:56:37'),
                                                                                                                                                                 (10109,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:57:31'),
                                                                                                                                                                 (10110,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 12:57:56'),
                                                                                                                                                                 (10111,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:02:05'),
                                                                                                                                                                 (10112,10,'奥利奥Update0428',2001,3.3,6.5,6,19.8,19.2,'2023-07-22 13:03:38'),
                                                                                                                                                                 (10113,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:04:41'),
                                                                                                                                                                 (10114,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:06:02'),
                                                                                                                                                                 (10115,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:07:01'),
                                                                                                                                                                 (10116,10,'奥利奥Update0428',2001,3.3,6.5,44,145.2,140.8,'2023-07-22 13:07:41'),
                                                                                                                                                                 (10117,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:09:13'),
                                                                                                                                                                 (10118,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:11:26'),
                                                                                                                                                                 (10119,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:14:39'),
                                                                                                                                                                 (10120,10,'奥利奥Update0428',2001,3.3,6.5,6,19.8,19.2,'2023-07-22 13:15:41'),
                                                                                                                                                                 (10121,10,'奥利奥Update0428',2001,3.3,6.5,111,366.3,355.2,'2023-07-22 13:17:04'),
                                                                                                                                                                 (10122,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:20:51'),
                                                                                                                                                                 (10123,10,'奥利奥Update0428',2001,3.3,6.5,6,19.8,19.2,'2023-07-22 13:25:20'),
                                                                                                                                                                 (10124,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:27:30'),
                                                                                                                                                                 (10125,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:28:11'),
                                                                                                                                                                 (10126,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:30:22'),
                                                                                                                                                                 (10127,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:31:13'),
                                                                                                                                                                 (10128,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 13:33:26'),
                                                                                                                                                                 (10129,10,'奥利奥Update0428',2001,3.3,6.5,6,19.8,19.2,'2023-07-22 14:07:43'),
                                                                                                                                                                 (10130,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 14:39:04'),
                                                                                                                                                                 (10131,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 15:09:59'),
                                                                                                                                                                 (10132,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 15:44:43'),
                                                                                                                                                                 (10133,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 15:45:52'),
                                                                                                                                                                 (10134,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:16:48'),
                                                                                                                                                                 (10135,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:17:07'),
                                                                                                                                                                 (10136,10,'奥利奥Update0428',2001,3.3,6.5,11,36.3,35.2,'2023-07-22 16:18:41'),
                                                                                                                                                                 (10137,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:19:05'),
                                                                                                                                                                 (10138,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:21:38'),
                                                                                                                                                                 (10139,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:23:19'),
                                                                                                                                                                 (10140,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:23:31'),
                                                                                                                                                                 (10141,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:23:40'),
                                                                                                                                                                 (10142,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:23:53'),
                                                                                                                                                                 (10143,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:24:21'),
                                                                                                                                                                 (10144,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:25:33'),
                                                                                                                                                                 (10145,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:28:27'),
                                                                                                                                                                 (10146,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:49:05'),
                                                                                                                                                                 (10147,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:50:07'),
                                                                                                                                                                 (10148,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:54:58'),
                                                                                                                                                                 (10149,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 16:59:20'),
                                                                                                                                                                 (10150,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:01:43'),
                                                                                                                                                                 (10151,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:01:48'),
                                                                                                                                                                 (10152,10,'奥利奥Update0428',2001,3.3,6.5,11,36.3,35.2,'2023-07-22 17:02:26'),
                                                                                                                                                                 (10153,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 17:04:59'),
                                                                                                                                                                 (10154,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 17:05:49'),
                                                                                                                                                                 (10155,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:08:45'),
                                                                                                                                                                 (10156,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:09:44'),
                                                                                                                                                                 (10157,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:13:58'),
                                                                                                                                                                 (10158,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:18:15'),
                                                                                                                                                                 (10159,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:19:01'),
                                                                                                                                                                 (10160,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:20:21'),
                                                                                                                                                                 (10161,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:21:42'),
                                                                                                                                                                 (10162,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:22:32'),
                                                                                                                                                                 (10163,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:25:12'),
                                                                                                                                                                 (10164,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:26:05'),
                                                                                                                                                                 (10165,10,'奥利奥Update0428',2001,3.3,6.5,11,36.3,35.2,'2023-07-22 17:26:34'),
                                                                                                                                                                 (10166,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:26:53'),
                                                                                                                                                                 (10167,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:27:49'),
                                                                                                                                                                 (10168,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:29:51'),
                                                                                                                                                                 (10169,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:31:16'),
                                                                                                                                                                 (10170,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:34:12'),
                                                                                                                                                                 (10171,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:34:18'),
                                                                                                                                                                 (10172,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:45:45'),
                                                                                                                                                                 (10173,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:51:06'),
                                                                                                                                                                 (10174,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:52:12'),
                                                                                                                                                                 (10175,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:52:50'),
                                                                                                                                                                 (10176,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:53:26'),
                                                                                                                                                                 (10177,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:54:01'),
                                                                                                                                                                 (10178,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 17:54:20'),
                                                                                                                                                                 (10179,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:02:39'),
                                                                                                                                                                 (10180,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:08:09'),
                                                                                                                                                                 (10181,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-22 18:11:53'),
                                                                                                                                                                 (10182,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:13:37'),
                                                                                                                                                                 (10183,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:15:07'),
                                                                                                                                                                 (10184,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:20:22'),
                                                                                                                                                                 (10185,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:26:13'),
                                                                                                                                                                 (10186,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:32:18'),
                                                                                                                                                                 (10187,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:35:10'),
                                                                                                                                                                 (10188,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:36:48'),
                                                                                                                                                                 (10189,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 18:37:33'),
                                                                                                                                                                 (10190,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 19:11:56'),
                                                                                                                                                                 (10191,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 19:13:01'),
                                                                                                                                                                 (10192,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 19:13:09'),
                                                                                                                                                                 (10193,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 19:14:04'),
                                                                                                                                                                 (10194,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 19:15:20'),
                                                                                                                                                                 (10195,10,'奥利奥Update0428',2001,3.3,6.5,33,108.9,105.6,'2023-07-22 19:25:27'),
                                                                                                                                                                 (10196,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 20:43:44'),
                                                                                                                                                                 (10197,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 20:43:46'),
                                                                                                                                                                 (10198,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 20:43:50'),
                                                                                                                                                                 (10199,10,'奥利奥Update0428',2001,3.3,6.5,4,13.2,12.8,'2023-07-22 20:43:55'),
                                                                                                                                                                 (10200,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 20:45:05'),
                                                                                                                                                                 (10201,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-22 20:45:39'),
                                                                                                                                                                 (10202,10,'奥利奥Update0428',2001,3.3,6.5,3,9.9,9.6,'2023-07-23 14:48:09'),
                                                                                                                                                                 (10203,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-23 14:48:15'),
                                                                                                                                                                 (10204,10,'奥利奥Update0428',2001,3.3,6.5,3,9.9,9.6,'2023-07-23 14:48:17'),
                                                                                                                                                                 (10205,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-23 14:49:13'),
                                                                                                                                                                 (10206,10,'奥利奥Update0428',2001,3.3,6.5,10,33,32,'2023-07-23 14:54:03'),
                                                                                                                                                                 (10207,10,'奥利奥Update0428',2001,3.3,6.5,5,16.5,16,'2023-07-23 14:57:52'),
                                                                                                                                                                 (10208,10,'奥利奥Update0428',2001,3.3,6.5,1,3.3,3.2,'2023-07-23 14:59:07');

/*Table structure for table `tb_user` */

DROP TABLE IF EXISTS `tb_user`;

CREATE TABLE `tb_user` (
                         `id` int NOT NULL AUTO_INCREMENT,
                         `username` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
                         `password` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
                         `role` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci DEFAULT NULL,
                         `is_vip` tinyint(1) DEFAULT '0',
                         PRIMARY KEY (`id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_user` */

insert  into `tb_user`(`id`,`username`,`password`,`role`,`is_vip`) values
                                                                     (16,'admin','123456','admin',1),
                                                                     (17,'普通用户张三','123456','user',0),
                                                                     (18,'小王','123456','user',1);

/*Table structure for table `tb_vip` */

DROP TABLE IF EXISTS `tb_vip`;

CREATE TABLE `tb_vip` (
                        `id` int NOT NULL AUTO_INCREMENT,
                        `vip_name` varchar(255) DEFAULT NULL COMMENT '会员名称',
                        `vip_discount` double DEFAULT NULL COMMENT '折扣',
                        `create_date` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
                        PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC;

/*Data for the table `tb_vip` */

insert  into `tb_vip`(`id`,`vip_name`,`vip_discount`,`create_date`) values
  (1,'VIP',0.95,'2023-07-20 15:06:42');

/*!50106 set global event_scheduler = 1*/;

/* Event structure for event `event_AutoDeleteLogs` */

/*!50106 DROP EVENT IF EXISTS `event_AutoDeleteLogs`*/;

DELIMITER $$

/*!50106 CREATE DEFINER=`root`@`localhost` EVENT `event_AutoDeleteLogs` ON SCHEDULE EVERY 1 DAY STARTS '2019-04-25 00:00:00' ON COMPLETION PRESERVE ENABLE DO CALL AutoDeleteLogs() */$$
DELIMITER ;

/* Function  structure for function  `currval` */

/*!50003 DROP FUNCTION IF EXISTS `currval` */;
DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` FUNCTION `currval`(doctor_id VARCHAR(6)) RETURNS int
  READS SQL DATA
  DETERMINISTIC
BEGIN
  DECLARE VALUE INTEGER;
  SET VALUE = 10001;
  SELECT current_value INTO VALUE FROM doctor WHERE NAME = doctor_id;
  RETURN VALUE;
END */$$
DELIMITER ;

/* Function  structure for function  `nextval` */

/*!50003 DROP FUNCTION IF EXISTS `nextval` */;
DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` FUNCTION `nextval`(doctor_id VARCHAR(6)) RETURNS int
  DETERMINISTIC
BEGIN
  UPDATE doctor SET current_value = current_value + increment WHERE Name = doctor_id;
  RETURN currval(seq_name);
END */$$
DELIMITER ;

/* Procedure structure for procedure `AutoDeleteLogs` */

/*!50003 DROP PROCEDURE IF EXISTS  `AutoDeleteLogs` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `AutoDeleteLogs`()
BEGIN
  DELETE FROM log WHERE DATE(create_time) <= DATE(DATE_SUB(NOW(),INTERVAL 3 DAY)) AND (type = 'DEBUG' OR type = 'INFO');
END */$$
DELIMITER ;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
